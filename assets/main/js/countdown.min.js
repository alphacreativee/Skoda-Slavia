var Countdown={$el:null,countdown_interval:null,target_date:null,init:function(){var t;this.$el=document.querySelector(".countdown"),this.$el?(this.$={days:this.$el.querySelectorAll(".bloc-time.days .figure"),hours:this.$el.querySelectorAll(".bloc-time.hours .figure"),minutes:this.$el.querySelectorAll(".bloc-time.min .figure"),seconds:this.$el.querySelectorAll(".bloc-time.sec .figure")},(t=this.$el.getAttribute("data-time-count"))?(this.target_date=new Date(t),isNaN(this.target_date.getTime())?console.error("Format ngày không hợp lệ trong data-time-count"):(console.log("Target date:",this.target_date.toLocaleString()),this.updateTime(),this.count())):console.error("Vui lòng set ngày đích trong data-time-count")):console.error("Không tìm thấy element .countdown")},count:function(){var t=this;this.countdown_interval=setInterval(function(){t.updateTime()},1e3)},updateTime:function(){var t,e,o,n=new Date,n=this.target_date-n;n<=0?(clearInterval(this.countdown_interval),console.log("Countdown finished!")):(t=Math.floor(n/864e5),e=Math.floor(n%864e5/36e5),o=Math.floor(n%36e5/6e4),n=Math.floor(n%6e4/1e3),this.checkHour(t,this.$.days[0],this.$.days[1]),this.checkHour(e,this.$.hours[0],this.$.hours[1]),this.checkHour(o,this.$.minutes[0],this.$.minutes[1]),this.checkHour(n,this.$.seconds[0],this.$.seconds[1]))},animateFigure:function(t,e){var o=t.querySelector(".top"),n=t.querySelector(".bottom"),r=t.querySelector(".top-back"),t=t.querySelector(".bottom-back");r.querySelector("span").innerHTML=e,t.querySelector("span").innerHTML=e,o.style.transform="perspective(200px) rotateX(-180deg)",r.style.transform="perspective(200px) rotateX(0deg)",setTimeout(function(){o.innerHTML=e,n.innerHTML=e,o.style.transition="none",r.style.transition="none",o.style.transform="perspective(200px) rotateX(0deg)",r.style.transform="perspective(200px) rotateX(180deg)",setTimeout(function(){o.style.transition="transform 0.8s ease-out",r.style.transition="transform 0.8s ease-out"},50)},800)},checkHour:function(t,e,o){var t=t.toString().padStart(2,"0"),n=t.charAt(0),t=t.charAt(1),r=e.querySelector(".top").innerHTML,i=o.querySelector(".top").innerHTML;r!==n&&this.animateFigure(e,n),i!==t&&this.animateFigure(o,t)}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Countdown.init()}):Countdown.init();