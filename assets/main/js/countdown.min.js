console.log("countdown.js loaded");var Countdown={countdown_interval:null,target_date:null,$el:null,init:function(){var t;this.$el=document.querySelector(".countdown"),this.$el?(this.$={days:this.$el.querySelectorAll(".bloc-time.days .figure"),hours:this.$el.querySelectorAll(".bloc-time.hours .figure"),minutes:this.$el.querySelectorAll(".bloc-time.min .figure"),seconds:this.$el.querySelectorAll(".bloc-time.sec .figure")},(t=this.$el.getAttribute("data-time-count"))?(this.target_date=new Date(t),isNaN(this.target_date.getTime())?console.error("Format ngày không hợp lệ trong data-time-count"):(console.log("Target date:",this.target_date.toLocaleString()),this.count())):console.error("Vui lòng set ngày đích trong data-time-count")):console.error("Không tìm thấy element .countdown")},count:function(){var t=this;this.$.days[0],this.$.days[1],this.$.hours[0],this.$.hours[1],this.$.minutes[0],this.$.minutes[1],this.$.seconds[0],this.$.seconds[1];this.updateTime(),this.countdown_interval=setInterval(function(){t.updateTime()},1e3)},updateTime:function(){var t,e,i,o=new Date,o=this.target_date-o;o<=0?(clearInterval(this.countdown_interval),console.log("Countdown finished!"),this.setFigureValue(this.$.days[0],"0"),this.setFigureValue(this.$.days[1],"0"),this.setFigureValue(this.$.hours[0],"0"),this.setFigureValue(this.$.hours[1],"0"),this.setFigureValue(this.$.minutes[0],"0"),this.setFigureValue(this.$.minutes[1],"0"),this.setFigureValue(this.$.seconds[0],"0"),this.setFigureValue(this.$.seconds[1],"0")):(t=Math.floor(o/864e5),e=Math.floor(o%864e5/36e5),i=Math.floor(o%36e5/6e4),o=Math.floor(o%6e4/1e3),this.checkHour(t,this.$.days[0],this.$.days[1]),this.checkHour(e,this.$.hours[0],this.$.hours[1]),this.checkHour(i,this.$.minutes[0],this.$.minutes[1]),this.checkHour(o,this.$.seconds[0],this.$.seconds[1]))},setFigureValue:function(t,e){var i=t.querySelector(".top"),t=t.querySelector(".bottom");i.innerHTML=e,t.innerHTML=e},animateFigure:function(t,e){var i=t.querySelector(".top"),o=t.querySelector(".bottom"),n=t.querySelector(".top-back span"),t=t.querySelector(".bottom-back span");n.innerHTML=e,t.innerHTML=e,i.style.transform="rotateX(-180deg)",setTimeout(function(){i.innerHTML=e,o.innerHTML=e,i.style.transform="rotateX(0deg)"},300)},checkHour:function(t,e,i){var o=t.toString().padStart(2,"0").charAt(0),t=t.toString().padStart(2,"0").charAt(1),n=e.querySelector(".top").innerHTML,s=i.querySelector(".top").innerHTML;n!==o&&this.animateFigure(e,o),s!==t&&this.animateFigure(i,t)}};document.addEventListener("DOMContentLoaded",function(){Countdown.init()}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){Countdown.init()}):Countdown.init();