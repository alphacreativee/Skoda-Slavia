import{preloadImages}from"../../libs/utils.js";$=jQuery;let lenis=new Lenis;function heroSwiper(){document.querySelectorAll(".hero-swiper").forEach(e=>{let i;function t(s){s.pagination.bullets.forEach((e,i)=>{let t=e.querySelector(".progress-bar-swiper");i<s.realIndex?(e.classList.add("viewed"),e.classList.remove("swiper-pagination-bullet-active"),t.style.width="100%",t.style.transition="none"):i===s.realIndex?(e.classList.remove("viewed","swiper-pagination-bullet-active"),t.style.width="0%",t.style.transition="none",setTimeout(()=>{t.style.width="100%",t.style.transition=`width ${s.params.autoplay.delay}ms linear`,setTimeout(()=>{e.classList.add("viewed"),e.classList.add("swiper-pagination-bullet-active")},s.params.autoplay.delay)},50)):(e.classList.remove("viewed","swiper-pagination-bullet-active"),t.style.width="0%",t.style.transition="none")})}new Swiper(e,{slidesPerView:1,watchSlidesProgress:!0,speed:1500,loop:!0,autoplay:{delay:3e3},pagination:{el:e.querySelector(".swiper-pagination"),clickable:!0,renderBullet:function(e,i){return`
            <button class="${i}">
              <span class="progress-bar-swiper"></span>
            </button>`}},on:{init(e){t(e)},slideChangeTransitionStart(e){e.params.autoplay.delay=3e3,clearTimeout(i)},slideChangeTransitionEnd(e){t(e)},progress(t){t.slides.forEach(e=>{var i=(e.progress||0)*(.9*t.width),e=e.querySelector(".hero-img");e&&!isNaN(i)&&(e.style.transform=`translate3d(${i}px, 0, 0)`)})},touchStart(e){e.slides.forEach(e=>{e.style.transition=""}),clearTimeout(i)},setTransition(e,i){let t="cubic-bezier(0.25, 0.1, 0.25, 1)";e.slides.forEach(e=>{e.style.transition=i+"ms "+t;e=e.querySelector(".hero-img");e&&(e.style.transition=i+"ms "+t)})}}})})}lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)}),gsap.ticker.lagSmoothing(0);let init=()=>{gsap.registerPlugin(ScrollTrigger),heroSwiper()},isLinkClicked=(preloadImages("img").then(()=>{init()}),!1);$("a").on("click",function(e){!this.href||this.href.match(/^#/)||this.href.match(/^javascript:/)||(isLinkClicked=!0,console.log("1"))}),$(window).on("beforeunload",function(){isLinkClicked||$(window).scrollTop(0),isLinkClicked=!1});